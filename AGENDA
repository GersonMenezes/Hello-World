#include <stdio.h>
#include <stdlib.h>

struct tipo{
char nome[30];
int idade;
int cell;
};

int menu();
void retira();
void lista();
void busca();
void adiciona();

int main(){

void *pBuffer = (struct tipo*) malloc(2*sizeof(int));
    if(pBuffer != NULL) printf("Alocado com sucesso\n");
int *x = pBuffer, *n;

    while(*x != 0){
    *x = menu(x);
    }

printf("Valor de X=%d",*x);
free(pBuffer);
    if(pBuffer == NULL) {
            printf("\n\nMemoria limpada com sucesso");}

return 0;
}


int menu(int *x){

    printf("Diga a opcao desejada: \n");
    printf("\n0 para sair\n1 Adicionar\n2 Retirar\n3 Listar\n4 Buscar\n-------------------------------------\n");
    scanf("%d", &*(int*)x);

        switch (*x){
        case 0:
            return 0;
            break;
        case 1:
            adiciona();
            break;
        case 2:
            retira();
            break;
        case 3:
            lista();
            break;
        case 4:
            busca();
            break;
        default:
            printf("Nenhuma alternativa correta");
            return 1;
        }
}

void retira(){}
void lista(){}
void busca(){}
void adiciona(){}
